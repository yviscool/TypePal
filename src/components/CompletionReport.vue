<template>
  <div class="text-center">
    <div class="mb-8">
      <div class="w-24 h-24 mx-auto mb-6 bg-gradient-to-br from-coral-500 to-lemon-500 rounded-full flex items-center justify-center">
        <div class="i-ph-trophy text-white text-4xl"></div>
      </div>

      <h2 class="text-3xl font-bold mb-4">
        {{ isLastChapter ? 'å…¨éƒ¨å®Œæˆï¼' : 'ç« èŠ‚å®Œæˆï¼' }}
      </h2>
      <p class="text-lg opacity-80 mb-8">
        {{ isLastChapter
          ? 'æ­å–œï¼ä½ å·²ç»å®Œæˆäº†æ‰€æœ‰ç« èŠ‚çš„ç»ƒä¹ '
          : 'å¤ªæ£’äº†ï¼ä½ å’Œé”®ç›˜ç®€ç›´æ˜¯å¤©ä½œä¹‹åˆ' }}
      </p>
    </div>

    <!-- ç»Ÿè®¡ä¿¡æ¯ -->
    <PracticeStats :time="practiceTime" :correct-count="correctCount" :wpm="wpm" :accuracy="accuracy" class="mb-8" />

    <!-- æ“ä½œæŒ‰é’® -->
    <div class="flex flex-col sm:flex-row gap-4 justify-center">
      <button @click="$emit('startDictation')"
        class="px-8 py-4 bg-white/10 backdrop-blur-sm border border-white/20 rounded-2xl font-medium text-lg hover:bg-white/20 transition-all duration-300">
        å¼€å¯é»˜å†™ï¼Œæ£€éªŒæˆæœï¼
      </button>

      <button @click="$emit('nextChapter')"
        class="px-8 py-4 bg-gradient-to-r from-coral-500 to-coral-600 text-white rounded-2xl font-medium text-lg shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-300 relative">
        {{ isLastChapter ? 'é‡æ–°å¼€å§‹ç¬¬ä¸€ç« ' : 'å†æ¥ä¸€è½®ï¼ŒçŠ¶æ€æ­£ä½³ï¼' }}
        <!-- Enteré”®æç¤º -->
        <div class="absolute -top-2 -right-2 px-2 py-1 bg-white/20 backdrop-blur-sm rounded-lg text-xs font-mono border border-white/30">
          Enter
        </div>
      </button>
    </div>

    <!-- å¿«æ·é”®æç¤º -->
    <div class="mt-6 text-center">
      <p class="text-sm opacity-60">
        ğŸ’¡ æŒ‰ <kbd class="px-2 py-1 bg-white/20 rounded border text-xs font-mono mx-1">Enter</kbd>
        {{ isLastChapter ? 'é‡æ–°å¼€å§‹' : 'è¿›å…¥ä¸‹ä¸€ç« ' }}
      </p>
    </div>
  </div>
</template>

<script setup lang="ts">
import PracticeStats from './PracticeStats.vue'

interface Props {
  practiceTime: number
  correctCount: number
  wpm: number
  accuracy: number
  isLastChapter: boolean
}

defineProps<Props>()

defineEmits<{
  startDictation: []
  nextChapter: []
}>()
</script>